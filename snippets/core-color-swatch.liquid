{%- for value in option.values -%}
  {%- liquid
    assign swatch_value = null
    if value.swatch.color != blank or value.swatch.image != blank
      if value.swatch.image
        assign swatch_value = value.swatch.image | image_url
      elsif value.swatch.color
        assign swatch_value = value.swatch.color
      else
        assign swatch_value = null
      endif
    endif

    assign option_disabled = true
    if value.available
      assign option_disabled = false
    endif
  -%}
<div class="product-swatches__item js-variant-option-value product-option__value
  {% if option_disabled %} product-option--unavailable {% endif %}
  {% if product.selected_or_first_available_variant.available == false and option.selected_value == value %}product-option--sold-out{% endif %}" 
  data-value="{{ value | escape }}-{{ index }}"
>
      <input type="radio" class="input--variant form__control js-variant-item {{ input_class | default: 'js-variant-radio-item' }} visually-hidden" id="{{ section.id }}-{{ option.position }}-{{ forloop.index0 }}"
        name="{{ option.name }}"
        value="{{ value | escape }}"
        data-variant-value="{{ value | escape }}-{{ index }}"
        form="{{ product_form_id }}"
        data-option-value-id="{{ value.id }}"
        {% if option.selected_value == value %}checked{% endif %}>
      <label class="form__label" for="{{ section.id }}-{{ option.position }}-{{ forloop.index0 }}" tabindex="-1">
        <span class="product-swatches js-variant-swatch-item d-block br-50p subtext" aria-hidden="true" data-option-value="{{ value | downcase | escape | remove: " " }}" data-swatch-option-value="{{ swatch_value }}"></span>
        <span class="visually-hidden js-variant-option-label">{{ value }}</span>
      </label>
</div>
{%- endfor -%}